! function () {
    "use strict";

    function a(e, t) {
        for (var n = 0; n < t.length; n++) {
            var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a)
        }
    }
    var e, i = {
            xxs: 1,
            xs: 480,
            sm: 768,
            md: 992,
            lg: 1220,
            xl: 1540,
            xxl: 1840
        },
        o = window.innerWidth,
        r = window.innerHeight,
        c = 0,
        s = [];

    function l() {
        o = window.innerWidth, r = window.innerHeight;
        var a = 0;
        Object.keys(i).forEach(function (e, t) {
            var n = i[e];
            n <= o && a < n && (a = n, c = t)
        })
    }

    function d() {
        clearTimeout(e), e = setTimeout(function () {
            l(), s.forEach(function (e) {
                return e()
            })
        }, 100)
    }
    var u, t = 1e3,
        v = !1,
        m = /Firefox/i.test(navigator.userAgent),
        h = !1,
        f = {
            body: document.body,
            activeZone: 1
        };

    function p(e) {
        c < 3 && (TweenLite.set(e, {
            delay: 1.2,
            className: "-=showTitle"
        }), TweenLite.set(e, {
            delay: 1.2,
            className: "-=active"
        }))
    }

    function y(e) {
        var t = e.charAt(5) || e.charAt(4),
            n = f.mainNav.querySelectorAll(".active");
        if (1 !== n.length || n[0].hash !== e) {
            f.activeZone = parseInt(t);
            var a = f.navLinks[f.activeZone - 1];
            TweenLite.set(a, {
                className: "+=active showTitle"
            }), TweenLite.set(n, {
                className: "-=active"
            }), TweenLite.set(n, {
                className: "-=showTitle"
            }), p(a), 6 === f.activeZone ? f.mainNav.classList.add("hide-nav-btn") : 3 === f.activeZone ? f.body.classList.add("light-zone") : (f.mainNav.classList.remove("hide-nav-btn"), f.body.classList.remove("light-zone"))
        }
    }

    function b() {
        v = !0, u = setTimeout(function () {
            v = !1
        }, t)
    }

    function w(e) {
        var t = 1 < arguments.length && void 0 !== arguments[1] && arguments[1],
            n = 2 < arguments.length ? arguments[2] : void 0;
        e.preventDefault(), b();
        var a = 150 < n || n < -150 ? .5 : 1;
        a < 0 && (a *= -1);
        var o = "#zone6";
        if (t)
            if ("next" === t) {
                if (5 < f.activeZone) return;
                var i = f.activeZone + 1;
                if (o = "#zone".concat(i), i % 2 == 0) {
                    var s = document.querySelector("".concat(o, " .zone__image"));
                    TweenLite.from(s, a, {
                        yPercent: -70,
                        ease: Expo.easeOut
                    })
                }
            } else {
                if (f.activeZone <= 1) return;
                var r = f.activeZone - 1;
                if (o = "#zone".concat(r), r % 2 == 0) {
                    var c = document.querySelector("".concat(o, " .zone__image"));
                    TweenLite.from(c, a, {
                        yPercent: 70,
                        ease: Expo.easeOut
                    })
                }
            }
        else o = e.currentTarget.hash;
        TweenLite.to(window, a, {
            scrollTo: o,
            ease: Expo.easeOut,
            autoKill: !t,
            onComplete: function () {
                clearTimeout(u), v = !1
            }
        }), y(o)
    }

    function g(e) {
        var t;
        (e.preventDefault(), v) || ((t = m ? -33.334 * e.detail : void 0 !== e.deltaY ? -e.deltaY : e.wheelDelta) <= -15 && w(e, "next", t), 15 <= t && w(e, "prev", t))
    }
    var L = {
            rootMargin: "0% 50%",
            threshold: .5,
            animateClassName: "sal-animate",
            disabledClassName: "sal-disabled",
            selector: "[data-sal]",
            once: !0,
            disabled: !1
        },
        n = [],
        T = null,
        k = function () {
            document.body.classList.add(L.disabledClassName)
        },
        x = function (e, n) {
            e.forEach(function (e) {
                if (e.intersectionRatio >= L.threshold) {
                    e.target.classList.add(L.animateClassName);
                    var t = e.target.id;
                    h && "z" === t.charAt(0) && 3 <= c && 778 < r ? y("#".concat(t)) : L.once && n.unobserve(e.target)
                } else L.once || e.target.classList.remove(L.animateClassName)
            })
        },
        S = function () {
            k(), T.disconnect(), T = null
        },
        O = function () {
            document.body.classList.remove(L.disabledClassName), T = new IntersectionObserver(x, {
                rootMargin: L.rootMargin,
                threshold: L.threshold
            }), (n = [].filter.call(document.querySelectorAll(L.selector), function (e) {
                return t = e, L.animateClassName, !t.classList.contains(L.animateClassName);
                var t
            })).forEach(function (e) {
                return T.observe(e)
            })
        },
        A = function () {
            var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : L;
            if (e !== L && (L = function (o) {
                    for (var e = 1; e < arguments.length; e++) {
                        var i = null != arguments[e] ? arguments[e] : {},
                            t = Object.keys(i);
                        "function" == typeof Object.getOwnPropertySymbols && (t = t.concat(Object.getOwnPropertySymbols(i).filter(function (e) {
                            return Object.getOwnPropertyDescriptor(i, e).enumerable
                        }))), t.forEach(function (e) {
                            var t, n, a;
                            t = o, a = i[n = e], n in t ? Object.defineProperty(t, n, {
                                value: a,
                                enumerable: !0,
                                configurable: !0,
                                writable: !0
                            }) : t[n] = a
                        })
                    }
                    return o
                }({}, L, e)), !window.IntersectionObserver) throw k(), Error("\n      Your browser does not support IntersectionObserver!\n      Get a polyfill from here:\n      https://github.com/w3c/IntersectionObserver/tree/master/polyfill\n    ");
            return L.disabled || "function" == typeof L.disabled && L.disabled() ? k() : O(), {
                elements: n,
                disable: S,
                enable: O
            }
        };

    function E(e) {
        var t = e.target || e;
        t.value ? t.classList.add("has-text") : t.classList.remove("has-text")
    }

    function _() {
        for (var a = document.getElementById("contact_form"), e = a.querySelectorAll(".form__field input,.form__field textarea"), t = 0; t < e.length; t += 1) {
            e[t].addEventListener("change", E, !1)
        }
        a && a.addEventListener("submit", function (e) {
            e.preventDefault(), a.classList.add("sending");
            var t = new XMLHttpRequest,
                n = function (e) {
                    if (e && "FORM" === e.nodeName) {
                        var t, n, a = [];
                        for (t = e.elements.length - 1; 0 <= t; t -= 1)
                            if ("" !== e.elements[t].name) switch (e.elements[t].nodeName) {
                                case "INPUT":
                                    switch (e.elements[t].type) {
                                        case "text":
                                        case "tel":
                                        case "email":
                                        case "date":
                                        case "number":
                                        case "hidden":
                                        case "password":
                                        case "button":
                                        case "reset":
                                        case "submit":
                                            a.push("".concat(e.elements[t].name, "=").concat(encodeURIComponent(e.elements[t].value)));
                                            break;
                                        case "checkbox":
                                        case "radio":
                                            e.elements[t].checked && a.push("".concat(e.elements[t].name, "=").concat(encodeURIComponent(e.elements[t].value)))
                                    }
                                    break;
                                case "TEXTAREA":
                                    a.push("".concat(e.elements[t].name, "=").concat(encodeURIComponent(e.elements[t].value)));
                                    break;
                                case "SELECT":
                                    switch (e.elements[t].type) {
                                        case "select-one":
                                            a.push("".concat(e.elements[t].name, "=").concat(encodeURIComponent(e.elements[t].value)));
                                            break;
                                        case "select-multiple":
                                            for (n = e.elements[t].options.length - 1; 0 <= n; n -= 1) e.elements[t].options[n].selected && a.push("".concat(e.elements[t].name, "=").concat(encodeURIComponent(e.elements[t].options[n].value)))
                                    }
                                    break;
                                case "BUTTON":
                                    switch (e.elements[t].type) {
                                        case "reset":
                                        case "submit":
                                        case "button":
                                            a.push("".concat(e.elements[t].name, "=").concat(encodeURIComponent(e.elements[t].value)))
                                    }
                            }
                        return a.join("&").replace(/%20/g, "+")
                    }
                }(a);
            t.onreadystatechange = function () {
                if (this.readyState === this.DONE && t.onreadystatechange)
                    if (t.onreadystatechange = null, "ok" !== JSON.parse(this.responseText).status) alert("fejl opstod i mailcontroller");
                    else {
                        var e = a.getAttribute("data-confirmation-url");
                        e && (window.location = e)
                    }
            }, t.open("POST", "/umbraco/api/mail/sendmultinestedcontent", !0), t.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), t.send(n)
        })
    }

    function N(e) {
        var n = new Image;
        return new Promise(function (t) {
            n.addEventListener("load", function () {
                return (e = n, "decode" in e ? e.decode().then(function () {
                    return e
                }) : Promise.resolve(e)).then(function (e) {
                    return t(e)
                });
                var e
            }, !1), n.src = e
        })
    }

    function I(n) {
        var a = "",
            o = 0;
        return Object.keys(i).forEach(function (e, t) {
            t <= c && o < t && (a = n.getAttribute("data-src-".concat(e)) || a, o = t)
        }), a || (a = n.getAttribute("data-src-xxs")), a
    }

    function q(e) {
        var t = I(e);
        if (t) {
            var n = "url(".concat(t, ")");
            e.style.backgroundImage !== n && N(t).then(function () {
                e.style.backgroundImage = n, e.classList.add("image--loaded")
            })
        }
    }

    function C(n) {
        var e = I(n);
        if (e) {
            var t = n.querySelector("img.image--loaded");
            t && t.getAttribute("src") === e || N(e).then(function (e) {
                var t = n.getAttribute("data-alt") || "";
                e.setAttribute("alt", t), n.appendChild(e), n.classList.add("image--loaded")
            })
        }
    }
    var P, z = function () {
        function i(e) {
            var t, n = this;
            ! function (e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, i), this.dom = {
                container: e,
                sections: e.querySelectorAll(".slider__section"),
                btns: e.querySelectorAll(".nav__link"),
                wrap: e.querySelector(".slider__wrap"),
                icons: e.parentNode.querySelectorAll(".slider__icon")
            }, this.dom.sections = this.dom.container.querySelectorAll(".slider__section"), this.activeIndex = 0, this.activeBtn = this.dom.btns[0], this.activeIcon = null, this.setSliderHeightWidth(), t = this.setSliderHeightWidth.bind(this), s.push(t);
            for (var a = function (t) {
                    n.dom.icons[t].addEventListener("click", function (e) {
                        return n.swapContent(e, t + 1)
                    })
                }, o = 0; o < this.dom.icons.length; o += 1) a(o)
        }
        var e, t, n;
        return e = i, (t = [{
            key: "setSliderHeightWidth",
            value: function () {
                var n = this,
                    a = [];
                this.dom.container.classList.remove("slider--loaded"), this.dom.wrap.removeAttribute("style");
                for (var e = function (t) {
                        var e = n.dom.sections[t];
                        TweenLite.set(e, {
                            display: "block"
                        }), a.push(e.scrollHeight), e.removeAttribute("style"), n.dom.btns[t].addEventListener("click", function (e) {
                            return n.swapContent(e, t)
                        })
                    }, t = 0; t < this.dom.sections.length; t += 1) e(t);
                var o = Math.max.apply(null, a);
                TweenLite.set(this.dom.wrap, {
                    height: "".concat(o, "px"),
                    width: this.dom.wrap.offsetWidth
                }), this.dom.container.classList.add("slider--loaded")
            }
        }, {
            key: "swapContent",
            value: function (e, t) {
                if (e.preventDefault(), t !== this.activeIndex) {
                    var n = this.dom.sections[t],
                        a = this.dom.sections[this.activeIndex];
                    this.activeIndex = t, n.classList.add("active"), this.dom.wrap.scrollHeight < n.offsetHeight && TweenLite.to(this.dom.wrap, .5, {
                        height: n.offsetHeight
                    }), TweenLite.to(a, .5, {
                        y: -20,
                        opacity: 0,
                        clearProps: "all",
                        onComplete: a.classList.remove("active")
                    }), TweenLite.fromTo(n, .5, {
                        y: 20,
                        opacity: 0
                    }, {
                        y: 0,
                        opacity: 1,
                        clearProps: "all"
                    }), this.swapActiveBtn(t)
                }
            }
        }, {
            key: "swapActiveBtn",
            value: function (e) {
                if (this.activeBtn.classList.remove("active"), this.dom.btns[e].classList.add("active"), this.activeBtn = this.dom.btns[e], this.dom.icons.length) {
                    if (0 === e) return void this.activeIcon.classList.remove("active");
                    var t = this.dom.icons[e - 1];
                    this.activeIcon && this.activeIcon.classList.remove("active"), t.classList.add("active"), this.activeIcon = t
                }
            }
        }]) && a(e.prototype, t), n && a(e, n), i
    }();

    function Z(e) {
        e.preventDefault();
        var t = document.getElementById("zone3"),
            n = t.querySelectorAll(".block"),
            a = e.currentTarget,
            o = a.querySelectorAll("span");
        if (P) P.reversed() ? P.play() : P.reverse();
        else {
            P = new TimelineLite;
            var i = 5 < c ? "240px" : "200px",
                s = 4 <= c ? "120px" : "100px";
            P.to(o, .3, {
                x: 15,
                opacity: 0,
                ease: Power4.easeOut
            }).to(a, .3, {
                x: 0,
                y: 0,
                width: 0,
                padding: 0,
                ease: Power3.easeOut
            }, "-=0.2").to(a, .3, {
                right: i,
                top: s,
                rotation: -45,
                ease: Power3.easeOut
            }).set(a, {
                className: "+=closed"
            }, "-=0.3").to(n[0], .4, {
                opacity: 0,
                y: -50,
                ease: Power2.easeOut
            }, "-=0.15").to(t.querySelector(".zone__image--right"), .4, {
                xPercent: -100,
                ease: Power3.easeOut
            }, "-=0.2").fromTo(n[1], .5, {
                opacity: 0,
                y: 50
            }, {
                opacity: 1,
                y: 0,
                ease: Power2.easeOut
            }, "-=0.3").set(f.body, {
                className: "-=light-zone"
            }, "-=0.3")
        }
    }! function () {
        f.sliders = f.body.querySelectorAll(".slider"), f.zones = f.body.querySelectorAll(".zone"), l(), window.addEventListener("resize", d), window.addEventListener("orientationchange", d);
        for (var e = f.body.querySelectorAll(".zone__image"), t = f.body.querySelectorAll(".lazy__image"), n = 0; n < e.length; n += 1) q(e[n]);
        for (var a = 0; a < t.length; a += 1) C(t[a]);
        ! function (e, t) {
            f.mainNav = f.body.querySelector(e), f.navLinks = f.mainNav.querySelectorAll(t), f.mainNav.classList.remove("nav--hidden");
            for (var n = f.body.querySelectorAll(".block__link[href^='#zone'], .btn[href^='#zone']"), a = 0; a < n.length; a += 1) n[a].addEventListener("click", w);
            var o = parseInt(localStorage.getItem("lastZone", f.activeZone));
            TweenMax.staggerFrom(f.navLinks, .4, {
                delay: 1.2,
                x: 100,
                ease: Back.easeOut.config(3)
            }, .1, function () {
                var e;
                o && 778 < window.pageYOffset ? (e = f.navLinks[o - 1], f.activeZone = o, 6 === f.activeZone ? f.mainNav.classList.add("hide-nav-btn") : 3 === f.activeZone && f.body.classList.add("light-zone")) : e = f.navLinks[0], TweenLite.set(e, {
                    className: "+=active showTitle"
                }), p(e), h = !0
            });
            for (var i = 0; i < f.navLinks.length; i += 1) f.navLinks[i].addEventListener("click", w);
            if (f.body.querySelector(".nav__btn").addEventListener("click", function (e) {
                    f.activeZone < 6 && w(e, "next")
                }), 3 <= c && 778 < r) {
                b();
                var s = m ? "DOMMouseScroll" : "wheel";
                window.addEventListener(s, g, !1)
            }
        }(".nav--main", ".nav__link"), 3 <= c && f.body.querySelector(".btn--reveal").addEventListener("click", Z), window.addEventListener("load", function () {
            for (var e = 0; e < f.sliders.length; e += 1) {
                var t = f.sliders[e];
                new z(t)
            }
            A(3 <= c ? {
                once: !1
            } : {
                threshold: .6
            }), _()
        }, !1), window.onbeforeunload = function () {
            localStorage.setItem("lastZone", f.activeZone)
        }
    }()
}();
//# sourceMappingURL=main.min.js.map